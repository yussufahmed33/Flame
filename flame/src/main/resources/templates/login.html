<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Login</title>
    <style>
        body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:#f8fafc;margin:0}
        .wrap{max-width:420px;margin:6rem auto;padding:2rem;background:#fff;border:1px solid #e5e7eb;border-radius:8px}
        h1{margin:0 0 1rem 0;font-size:1.5rem;color:#111827}
        .field{margin:0.75rem 0}
        label{display:block;font-size:.875rem;color:#374151;margin-bottom:.25rem}
        input{width:100%;padding:.75rem;border:1px solid #d1d5db;border-radius:6px;font-size:.95rem}
        button{width:100%;padding:.8rem;border:0;background:#111827;color:#fff;border-radius:6px;cursor:pointer}
        .msg{margin:.5rem 0;padding:.6rem;border-radius:6px;font-size:.875rem}
        .err{background:#fee2e2;color:#991b1b}
        .ok{background:#dcfce7;color:#166534}
        .hint{margin-top:.75rem;text-align:center;font-size:.875rem}
        a{color:#111827;text-decoration:underline}
        .ar{direction:rtl;text-align:right}
    </style>
</head>
<body>
<div class="wrap">
    <h1>Login / تسجيل الدخول</h1>

    <div th:if="${error}" class="msg err">Invalid credentials. / بيانات اعتماد غير صحيحة.</div>
    <div th:if="${logout}" class="msg ok">Logged out. / تم تسجيل الخروج.</div>
    <div th:if="${registered}" class="msg ok">Registration successful, please login. / تم التسجيل بنجاح، الرجاء تسجيل الدخول.</div>

    <form method="post" th:action="@{/login}">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
        <div class="field">
            <label>Username / اسم المستخدم</label>
            <input type="text" name="username" required autocomplete="username"/>
        </div>
        <div class="field">
            <label>Password / كلمة المرور</label>
            <input type="password" name="password" required autocomplete="current-password" />
        </div>
        <div class="field">
            <button type="submit">Login / دخول</button>
        </div>
    </form>

    <div class="hint">No account? <a th:href="@{/register}">Register</a> / ليس لديك حساب؟ <a th:href="@{/register}">تسجيل</a></div>
</div>
</body>